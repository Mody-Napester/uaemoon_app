{"version":3,"sources":["./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.html","./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-back-button slot=\\\"start\\\" color=\\\"dark\\\"></ion-back-button>\\n    <ion-title>{{ trans.Login }}</ion-title>\\n  </ion-toolbar>\\n\\n  <div class=\\\"ion-text-center ion-padding\\\" style=\\\"background-color: #233881;\\\">\\n    <img style=\\\"width: 70%;\\\" src=\\\"../../assets/images/logo.png\\\" alt=\\\"\\\">\\n  </div>\\n</ion-header>\\n\\n<ion-content color=\\\"primary\\\">\\n\\n  <h2 class=\\\"ion-text-center ion-padding\\\">{{ trans.Welcom_Back }}!</h2>\\n\\n  <div class=\\\"ion-margin\\\">\\n\\n    <form [formGroup]=\\\"form\\\">\\n      <ion-item class=\\\"ion-margin-bottom\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"mail\\\"></ion-icon>\\n        <ion-input formControlName=\\\"email\\\" placeholder=\\\"{{ trans.Your_Email_Address }}\\\" clearInput type=\\\"email\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item class=\\\"ion-margin-bottom\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"finger-print\\\"></ion-icon>\\n        <ion-input formControlName=\\\"password\\\" placeholder=\\\"{{ trans.Your_Password }}\\\" clearInput type=\\\"password\\\"></ion-input>\\n      </ion-item>\\n    \\n      <div class=\\\"ion-padding-top\\\"> \\n        <ion-button (click)=\\\"submitForm()\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\" size=\\\"default\\\" color=\\\"secondary\\\">{{ trans.Login }}</ion-button>\\n      </div>\\n    </form>\\n\\n  </div>\\n\\n  <div class=\\\"ion-text-center ion-padding\\\">\\n    <!-- <ion-button fill=\\\"clear\\\" color=\\\"primary\\\" routerLink=\\\"/forget-password\\\">Forget Password?</ion-button> -->\\n    <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" routerLink=\\\"/register\\\">{{ trans.Dont_Have_Account }}?</ion-button>\\n  </div>\\n  \\n</ion-content>\\n\\n<ion-footer>\\n  <ion-button routerLink=\\\"/\\\" expand=\\\"block\\\" size=\\\"small\\\" fill=\\\"clear\\\" color=\\\"dark\\\" shape=\\\"round\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"refresh\\\"></ion-icon>\\n    {{ trans.Go_Home }}\\n  </ion-button>\\n</ion-footer>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { LoadingController, NavController, ToastController } from '@ionic/angular';\nimport { take } from 'rxjs/operators';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport  { trans as ar }  from  '../../../assets/translation/ar.json';\nimport  { trans as en }  from  '../../../assets/translation/en.json';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  public trans : any;\n\n  form: FormGroup;\n\n  constructor(\n    private authService: AuthService,\n    private loadingCtrl : LoadingController,\n    private navCtrl: NavController,\n    private toastCtrl: ToastController,\n  ) {\n    if(localStorage.getItem('lang') == 'en'){\n      this.trans = en;\n    }else{\n      this.trans = ar;\n    }\n  }\n\n  ngOnInit() {\n    this.form = new FormGroup({\n      email : new FormControl(null, [Validators.required]),\n      password : new FormControl(null, [Validators.required]),\n    });\n  }\n\n  async submitForm(){\n    const loading = await this.loadingCtrl.create({\n      message: this.trans.Loading,\n    });\n\n    const toast = await this.toastCtrl.create({\n      header: this.trans.Login_Faild,  \n      message : this.trans.Email_or_password_incorrect,\n      position : 'top',\n      duration : 5000,\n      color : 'danger',\n      buttons : [\n        {\n          icon : 'close',\n          role: 'cancel'\n        }\n      ]\n\n    });\n\n    loading.present();\n\n    this.authService.login(this.form.value).pipe(\n      take(1)\n    ).subscribe((user) => {\n      if(user.status == 1){\n        console.log(user);\n        localStorage.setItem('uuid', user.uuid);\n        localStorage.setItem('name', user.name);\n        localStorage.setItem('email', user.email);\n        localStorage.setItem('phone', user.phone);\n        loading.dismiss();\n        \n        this.navCtrl.navigateRoot('/tabs/pages/home')\n      }else{\n        loading.dismiss();\n\n        toast.present();\n      }\n      \n    });\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}